<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>XTOKEN2.O</title>
    <!-- <link rel="stylesheet" type="text/css" href="http://unpkg.com/iview/dist/styles/iview.css"> -->
    <link rel="stylesheet" href="style/index.css">
    <!-- <link rel="stylesheet" href="asset/css/style.css"> -->
  </head>
  <body>
      <div style="-webkit-app-region: drag;width: 100%; height: 40px; position: absolute;"></div>
      <div id="wrapper">
          <h2 class="title">XTOKEN.2</h2>
          <button id="btn">点击</button>
          <div id="test">测试</div>
          <div id="content">内容</div>
          <div id="word">word</div>
          <div id="seed">seed</div>
          <div id="adr">adr</div>
           <!-- <div ref="loading" v-show="spinShow" class="loading">
             生成中
           </div> -->
          </div>
        </div>
        <!-- <script type="text/javascript" src="http://unpkg.com/iview/dist/iview.min.js"></script> -->
        <script src="plugin/jquery-1.9.1.min.js"></script>
        <!-- <script src="api/index.js"></script> -->
        <!-- <script src="index.js"></script> -->
        <script>
           var path = require('path');
          var child_process = require('child_process');
          window.onload = function(){
            $("#btn").on('click', function() {
            // theadCus()
            //  theadCus();
            })
          }
          // theadCus();
          // function theadCus() {
            var __res = '';
            var __path = path.join(__dirname, 'api/test.js');
            console.log(__path);
            for(var i=0; i< 1; i++) {
              
                // var workerProcess = child_process.spawn('node', [__path, i, 'btc']);
                // var workerProcess = child_process.exec('node', [__path, i]);
                // var workerProcess = child_process.fork(__path, {
                // 	silent: false
                // });
                var child = child_process.fork(__path, [i, 'BTC', 1], {
                  silent: true
                });
                //   child.on('message', function(m){
                //     // console.log('message from child: ' + JSON.stringify(m));
                //     __res += 'child';
                //     // cb && cb(__res);
                // });
                
                // child.send({from: 'parent'});
                child.stdout.setEncoding('utf8');
                child.stdout.on('data', function (data) {
                  // console.log(typeof data);
                  console.log('stdout: ' + data);
                  // alert(data+'')
                  __res += 'success122';
                  // cb && cb(__res);
                  // arr.push(data+'');
                });
            
                child.stderr.on('data', function (data) {
                    console.log('stderr: ' + data);
                    __res += '失败';
                });

                child.on('close', function (code) {
                  console.log('子进程已退出，退出码 ' + code);
                  
                  __res += '退出'+code;
                  $('#content').html(__res);
                  // cb && cb(__res);
                });
              }
              
              
          // }
          
        </script>
  </body>
</html>